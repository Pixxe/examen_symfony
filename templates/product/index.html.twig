{% extends 'base-front.html.twig' %}

{% block title %}Hello ProductController!{% endblock %}

{% block body %}
    <h1>Liste de mes produits</h1>
    <div class="container">
        <table class="table table-dark table-striped">
            <thead>
            <tr>

                <td>Nom du produit</td>
                <td>Créé le</td>
                <td>Supprimer</td>
                <td>Modifier le produit</td>
                <td>Détails</td>


            </tr>
            </thead>

            <tbody>
            {% for product in products %}
                <tr>
                    <td>{{ product.name }}</td>
                    <td>{{ product.createdAt |date }}</td>
                    <td>
                        <button type="button" class="btn" data-bs-toggle="modal"
                                data-bs-target="#modal_{{ product.id }}">
                            <i class="fa-solid fa-circle-minus text-white"></i>
                        </button>
                        <div class="modal fade" id="modal_{{ product.id }}" tabindex="-1"
                             aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title text-black" id="exampleModalLabel">Confirmer la
                                            suppression de {{ product.name }}</h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                aria-label="Close"></button>
                                    </div>
                                    <div class="modal-footer">
                                        <a type="button" class="btn btn-secondary"
                                           href="{{ path('app_product_delete', {'id': product.id}) }}">Oui</a>
                                        <a type="button" class="btn btn-primary" data-bs-dismiss="modal">Non</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </td>
                    <td>
                        <button type="button" class="btn">
                            <a class="text-decoration-none" href="{{ path('app_product_update', {'id': product.id}) }}">
                                <i class="fa-solid fa-pen text-green"></i>
                            </a>
                        </button>
                    </td>
                    <td><a class="text-decoration-none" href="{{ path('app_product_details', {'id': product.id}) }}">
                            <i class="fa-solid fa-circle-info"></i>
                        </a></td>
                </tr>
            {% endfor %}
            </tbody>
    </div>


    </table>
    <hr>
    <a class="btn btn-primary" href="{{ path('app_product_add') }}">Ajouter un nouvel article</a>

{% endblock %}
